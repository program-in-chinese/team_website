---
layout: post
comments: true
title:  对在代码中使用中文命名的质疑与回应
description: Q&A of programming with naming in Chinese.
date:   2017-10-27 00:00:00 -0700
categories: 命名
---

有一部分质疑同样适用于英文代码, 比如"从命名看不出类型", "命名可能词不达意"等等, 另外还有未经证实的"中文代码导致的未知错误"和没有根据的”比英文代码运行慢“等等, 就不一一回应了.

#### 没有好处
答：如之前的[13年后的共鸣-在代码中用中文命名的优势和问题]({{ site.baseurl }}{% link _posts/2017-10-26-13年后的共鸣-在代码中用中文命名的优势和问题.markdown %})一文所述，中文命名在很多时候可以更准确，也比英文命名更轻松。
如果认为API以及内部方法/变量的命名无关紧要. 有不少可读性相关的文章对这个误区进行了阐述, 比如[Writing for Readability](https://www.codeproject.com/tips/815600/writing-for-readability)

#### 不利于非中文编程者贡献
答：现状是, 中文开发者主创的开源库/框架, 绝大多数的贡献者也都是中文开发者, 即使非常流行和国际化的框架如[vuejs](https://github.com/vuejs/vue/graphs/contributors)也是如此. 原因肯定是多方面的. 能够想到的有:

- 有类似功能的国外开源项目. 作为外国程序员首选参与的肯定是那些
- 如果是和中文本身相关的库, 如结巴分词, 主要的用户也是中文开发者, 自然维护的也是

个人也不赞成100%的中文化. 需要和国外交流的项目肯定有. 大胆假设:以中文为母语的所有程序员,从事的项目中,90%是单人项目(*),剩下的10%中,90%只有同样是中文为母语的程序员参与.这样,只有1%的项目有用英文写代码的硬性需要.为了这1%的需要,而在剩下的99%中使用英文,得不偿失.

注： 根据[Fun with GitHub repositories statistics](https://blog.sourced.tech/post/github_stats/), github上的1-contributor repository大约是60%. 当然还有很多项目没有开源. 上面的90%仍然是假设.

当然希望看到更多的国外开发者参与国人初创的项目. 不过，除去预测得到是否会有国外开发者参与的情况, 剩下的自己发起的项目, 首要考虑的是对自己的开发和维护最有利的编程方式. 因为在可以预见的将来, 我自己会是最主要的贡献者. 如果我自己的开发和维护成本随着项目变大而变得不可持续, 那么在项目成型和能够吸引其他开发者参与之前可能就夭折了. 个人的感觉是用中文命名是我更熟悉和容易的方式.

osc上一些即使很热火的开源框架, 比如JFinal, 大多只有极少的其他开发者贡献. 个人认为一个很重要的原因, 就是代码阅读的难度, 而英文命名是一个额外的障碍. 也许对于开发者本人来说, 随着项目的开展, 一些开始时有些别扭的英文命名自己也习惯了, 但是对于刚拿到整个代码的新开发者, 任何不妥当的英文命名都会导致迷惑和时间的浪费. 为了吸引理论上的国外开发者参与, 而不优先选择对身边的中文开发者(包括自己)阅读代码有利的编程方式, 个人认为这种思路是很值得商榷和分情况探讨的.

#### 芬兰人Linus，使用英语而非自己的母语来编写Linux代码

答：Linus的母语是瑞典语，根据[wiki](https://en.wikipedia.org/wiki/List_of_languages_by_number_of_native_speakers)使用者是八百七千万。中文（普通话）的母语使用者是九亿五千万。这是一百倍的差距。另外，英语母语使用者是3亿六百万。更重要的是，中文母语使用者基本集中在中国，而英语分布在不同国家。西班牙语也类似。从人口基础来看，用中文编程是非常有潜力的。

#### 附上中文注释就够了

答：关于注释和命名, 在个人之前的工作环境里, 是第一次接触正式的可读性审核. 有个印象是, 审核员会尽量倾向于减少注释量, 而强调代码本身的可读性(其中最重要的因素之一就是命名). 审核里会不时出现"这个方法名已经self-explaining了,注释就不用了"之类的评语. 虽然没有当面确认过, 但写注释和维护注释的额外工作量应该也是这种倾向的动因之一.

#### 绝大多数API, 包括标准库都是英文的

答: 没错, 但在代码中, 自己定义的类/方法/变量占的篇幅一般都不少于依赖库(包括标准库)的方法/类所占篇幅, 欢迎提供具体统计数据. 可以看看[这里](https://git.oschina.net/zhishi/assembler-in-chinese-v0/blob/master/src/cn/org/assembler/%E6%B1%87%E7%BC%96%E5%99%A8%E7%B1%BB.java)的中英文代码篇幅的比例. 中文命名带来的代码改变是一目了然的. 更关键的是, 自定义的部分往往是**业务逻辑最集中并且最需要可读性**的部分.

#### 如果关键词还是英文, 用中文命名就没有意义

答: 用中文命名带来的好处是不分编程语言的, 甚至英文关键词和中文的显著区别可能带来额外的可读性增强. 另外, 至少短期内(5-10年), 英文关键词的编程语言还将在市场中占有不可忽视的份额, 在这个阶段使用中文命名是一条代价小而收益相对立竿见影的途径.

#### 编程语言本身和英文语法无关

答: 虽然和英文自然语言相去甚远, 但仍然有不少设计是带着很多英文风格的. 如: 空格作为分隔符; [for...in](https://github.com/program-in-chinese/overview/issues/40#issuecomment-337780621)等用法带有英文语法特色. for原意并没有循环的意思，而更接近”对于"，这在”for（A in B）“的语法中更明显，对应中文接近”对于B中的那些A“。while原意也没有‘循环’的意思，中文接近“只要”或者“当”。这恰恰说明了英文编程语言的设计与英文语法和词意的相关性。不懂英文的开发者在学习时就只能强记这些关键词（虽然也不是大麻烦），但假想这些关键词如果开始就是中文，那么肯定会更容易理解，也省去了强记的一步。

#### 中文输入太慢, 降低开发效率

答: 首先, 如果考虑推敲命名的时间, 对母语是中文的程序员, 中文命名应该比能够更恰当更快, 综合各种因素哪种方式写代码更快还待实践证实. 其次, 鉴于开发过程在整个软件生存周期中只占一小部分, 其他的部分(设计,调试,测试,维护)从良好的可读性获取的利远大于开发效率可能降低的弊.
为避免频繁切换中英文: 为了在输入中文的同时不用切换就可以输入特殊符号(){};等等, 搜狗输入法支持"中文时使用英文标点"

#### 会有各种汉字编码问题导致乱码

答：汉字编码问题不仅限于代码, 使用的越少越不利于问题解决. 多数问题能通过使编码一致避免, UTF8和GBK互转的问题([实例](https://github.com/program-in-chinese/overview/issues/26))可能会在长时间内存在。用中文命名能使这些问题更加凸显，促进问题解决，而不是拖延回避.

#### 看多了中文程序会影响英文学习，以及程序员前程

答：就像搞学术的需要的时候自然逼着看英文刊物，有硬性需要的时候自然会去看国外网站。如果这就会影响，那么也许本来就不那么需要。

#### 中英混用的问题
比如Java中有个回避不掉的问题JavaBeans规范一定要使用set/get命名。maven版本号的 -SNAPSHOT 特殊语义，旧junit中需要测试的方法必须以test开头等

答: 确实在实践中碰到混用的情况, 个人基本上是能用多少中文就用多少. 比如[这里](https://github.com/program-in-chinese/jinxiaocun/blob/master/src/main/java/com/example/%E5%95%86%E5%93%81.java#L37)set/get和中文混用，个人觉得可以接受。如果想在Java里用中文编写代码, 中英混用是不可能避免的.

上面列出的之外， (转载)[发展中文编程的意义：让大众化编程促进软件产业的建设](http://www.hystudio.net/726.html)也对一些质疑作出了[回应](http://www.hystudio.net/726.html#jieda)