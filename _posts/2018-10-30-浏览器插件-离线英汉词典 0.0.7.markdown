---
layout: post
comments: true
title:   æµè§ˆå™¨æ’ä»¶-ç¦»çº¿è‹±æ±‰è¯å…¸ 0.0.7
description: å®ç°æµè§ˆå™¨æ’ä»¶, åŸºäºæœ¬åœ°è¯å…¸æ•°æ®, æä¾›ç½‘é¡µä¸Šè‹±è¯­è¯è¯­æŸ¥è¯¢æ±‰è¯­é‡Šä¹‰åŠŸèƒ½, æ·»åŠ è¯å½¢å˜åŒ–ç­‰åŠŸèƒ½. Add features to English to Chinese dictionary using local data in browser extension.
date:   2018-10-30 00:00:00 -0700
categories: å‘½å è¯å…¸
---

æ–°æ·»åŠŸèƒ½:

- æ·»åŠ è¯å½¢å˜åŒ–ä¿¡æ¯, å¦‚æŸ¥è¯¢"get"æ˜¾ç¤º: è¿‡å»åˆ†è¯: got; è¿‡å»å¼: got; ç°åœ¨åˆ†è¯: getting; ç¬¬ä¸‰äººç§°å•æ•°: gets;
- å¼¹çª—ä¸­æ˜¾ç¤ºå¤„ç†åçš„è‹±æ–‡, æ¯”å¦‚, æŸ¥è¯¢"Task", å¼¹çª—ä¸­ä¼šæ˜¾ç¤º"task".
- æä¾›è¾“å…¥æ¡†, å¯ä¾›å½“æ— æ³•é€‰ä¸­é¡µé¢ä¸­çš„æ–‡æœ¬æˆ–è€…æ‰‹åŠ¨è¾“å…¥åæŒ‰å›è½¦é”®æŸ¥è¯¢.
- å½“å•è¯å°å†™æ— æ³•æŸ¥åˆ°, å°è¯•å…¨å¤§å†™æŸ¥è¯¢, æ¯”å¦‚'ok' 

![2018-10-30-sortè‹±æ±‰è¯å…¸]({{ "/assets/2018-10-30-sortè‹±æ±‰è¯å…¸.png" | absolute_url }})

è¯å½¢å˜åŒ–æ•°æ®ä¹Ÿæ˜¯æå–è‡ªå‰æ–‡[æµè§ˆå™¨æ’ä»¶-ç¦»çº¿è‹±æ±‰è¯å…¸](https://zhuanlan.zhihu.com/p/46640311)ä½¿ç”¨çš„æ•°æ®(æå–å·¥å…·: [æå–è¯å½¢å˜åŒ–åˆ°JSON](https://github.com/program-in-chinese/english-chinese-dictionary/blob/master/src/main/java/com/codeinchinese/%E8%8B%B1%E6%B1%89%E8%AF%8D%E5%85%B8/%E5%B7%A5%E5%85%B7/%E6%8F%90%E5%8F%96%E8%AF%8D%E5%BD%A2%E5%8F%98%E5%8C%96%E5%88%B0JSON.java)), ä»…æœ‰3Må¤š.

è¯å½¢å˜åŒ–æºæ•°æ®æ¡ç›®ä¸¾ä¾‹å¦‚ä¸‹:
```
abdicate: "p:abdicated/d:abdicated"

seconds: "1:s3/0:second"
```
å°†å…¶è½¬æ¢ä¸ºå¯è¯»æ–‡æœ¬æ˜¾ç¤ºçš„æºç éƒ¨åˆ†å¦‚ä¸‹:
```javascript
var è¯å½¢ç±»å‹ = Object.freeze({
  "p": "è¿‡å»å¼", // past tense
  "d": "è¿‡å»åˆ†è¯",
  "i": "ç°åœ¨åˆ†è¯", // -ing
  "3": "ç¬¬ä¸‰äººç§°å•æ•°",
  "r": "å½¢å®¹è¯æ¯”è¾ƒçº§", // -er
  "t": "å½¢å®¹è¯æœ€é«˜çº§", // -est
  "s": "åè¯å¤æ•°å½¢å¼",
  "0": "åŸå‹",
  "1": "åŸå‹å˜æ¢å½¢å¼"
});

// è¯å½¢éƒ¨åˆ†æ•°æ®æ ¼å¼æè¿°: https://github.com/skywind3000/ECDICT#%E8%AF%8D%E5%BD%A2%E5%8F%98%E5%8C%96
function æå–è¯å½¢(åŸå­—ç¬¦ä¸²) {
  var å˜åŒ– = [];
  if (!åŸå­—ç¬¦ä¸²) {
    return å˜åŒ–;
  }
  var è¯å½¢å­—æ®µ = åŸå­—ç¬¦ä¸².split("/");
  for (var æŸå­—æ®µ of è¯å½¢å­—æ®µ) {
    var åˆ†æ®µ = æŸå­—æ®µ.split(":");

    var ç±»å‹ = è¯å½¢ç±»å‹[åˆ†æ®µ[0]];
    var åŸå‹å˜åŒ–å½¢å¼ = [];
    if (ç±»å‹ == "åŸå‹å˜æ¢å½¢å¼") {
      for (var å˜åŒ–å½¢å¼ of åˆ†æ®µ[1]) {
        åŸå‹å˜åŒ–å½¢å¼.push(è¯å½¢ç±»å‹[å˜åŒ–å½¢å¼]);
      }
    }
    // å¦‚hyphen(vt): s:hyphens/p:hyphened/i:/3:hyphens/d:, iä¸då†…å®¹ç¼ºå¤±, ç”¨ç©ºå­—ç¬¦ä¸²å ä½
    å˜åŒ–.push({
      "ç±»å‹": ç±»å‹,
      "å˜åŒ–": åˆ†æ®µ.length == 1 ? "" : (ç±»å‹ == "åŸå‹å˜æ¢å½¢å¼" ? åŸå‹å˜åŒ–å½¢å¼ : åˆ†æ®µ[1])
    }
    );
  }
  return å˜åŒ–;
}
```
æ­¤è¯å½¢å˜åŒ–æ•°æ®å¯¹è¯å…¸ç”¨æˆ·ä¹Ÿè®¸ç”¨å¤„ä¸å¤§, ä½†[Chromeæ’ä»¶å®ç°GitHubä»£ç ç¦»çº¿ç¿»è¯‘v0.0.4](https://zhuanlan.zhihu.com/p/47215777)é¡¹ç›®æ¯”è¾ƒéœ€è¦.

å¦å¤–, è€ƒè™‘å°†è¯å…¸æ•°æ®ä¹Ÿå¹¶å…¥ä¹‹å‰çš„[åˆæ­¥å°è¯•å°†ä¼ ç»Ÿå­¦ç§‘çš„å†…å®¹ç¨‹åº/æ•°æ®åŒ–](https://zhuanlan.zhihu.com/p/47807062)çŸ¥è¯†åº“ä¸­, å¹¶å°†JSæ ¼å¼çš„çŸ¥è¯†åº“é€šè¿‡CDNè¿›è¡Œåˆ†å‘.
- [ç¦»çº¿è‹±æ±‰è¯å…¸ â€“ ä¸‹è½½ ğŸ¦Š Firefox æ‰©å±•ï¼ˆzh-CNï¼‰â€‹](https://addons.mozilla.org/zh-CN/firefox/addon/%E7%A6%BB%E7%BA%BF%E8%8B%B1%E6%B1%89%E8%AF%8D%E5%85%B8/)
- [ç¦»çº¿è‹±æ±‰è¯å…¸](https://chrome.google.com/webstore/detail/%E7%A6%BB%E7%BA%BF%E8%8B%B1%E6%B1%89%E8%AF%8D%E5%85%B8/ndifefelacmidghjaehmhicbchbidhpe/related?hl=en)
